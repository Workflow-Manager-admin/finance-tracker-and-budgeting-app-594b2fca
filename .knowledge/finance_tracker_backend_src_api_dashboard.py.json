{"is_source_file": true, "format": "Python", "description": "This file defines API endpoints related to dashboard and analytics features of a finance tracker application. It includes route handlers for fetching recent transactions, financial summaries, category spending analytics, and budget usage data, utilizing FastAPI, SQLAlchemy ORM, and dependency injection.", "external_files": ["./db", "./models", "./schemas", "./auth"], "external_methods": ["get_db", "get_current_user"], "published": ["dashboard_router", "analytics_router"], "classes": [{"name": "Transaction", "description": "Represents a financial transaction associated with a user, including amount, category, timestamp, and type."}, {"name": "Category", "description": "Represents a transaction category, used for grouping expenses and spending analytics."}, {"name": "Budget", "description": "Represents a user-defined budget, associated with a category and a period (monthly, custom)."}, {"name": "TransactionType", "description": "Enumerates the types of transactions (income, expense)."}, {"name": "User", "description": "Represents an authenticated user in the system."}], "methods": [{"name": "recent_transactions(n: int = Query(10, ge=1, le=100), db: Session = Depends(get_db), user: User = Depends(get_current_user))", "description": "Retrieves the most recent N transactions for the current user, with a default of 10.", "scope": "", "scopeKind": ""}, {"name": "dashboard_summary(db: Session = Depends(get_db), user: User = Depends(get_current_user))", "description": "Provides income and expense totals for the user overall and within the current month.", "scope": "", "scopeKind": ""}, {"name": "category_spending( start_date: Optional[datetime] = None, end_date: Optional[datetime] = None, db: Session = Depends(get_db), user: User = Depends(get_current_user) )", "description": "Returns total spending per category, optionally within a specific date range, for analytics charts.", "scope": "", "scopeKind": ""}, {"name": "budget_usage(db: Session = Depends(get_db), user: User = Depends(get_current_user))", "description": "Calculates and returns current budget consumption against set limits for all user budgets.", "scope": "", "scopeKind": ""}], "calls": ["db.query", "func.sum", "Transaction.user_id", "Transaction.type", "Transaction.timestamp", "Transaction.amount", "Transaction.category_id", "TransactionOut", "get_current_user", "get_db"], "search-terms": ["dashboard endpoints", "analytics endpoints", "transactions summary", "category spending", "budget progress", "FastAPI", "SQLAlchemy ORM"], "state": 2, "file_id": 16, "knowledge_revision": 39, "git_revision": "", "revision_history": [{"34": ""}, {"38": ""}, {"39": ""}], "ctags": [{"_type": "tag", "name": "analytics_router", "path": "/home/kavia/workspace/code-generation/finance-tracker-and-budgeting-app-594b2fca/finance_tracker_backend/src/api/dashboard.py", "pattern": "/^analytics_router = APIRouter(prefix=\"\\/analytics\", tags=[\"Analytics\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "budget_usage", "path": "/home/kavia/workspace/code-generation/finance-tracker-and-budgeting-app-594b2fca/finance_tracker_backend/src/api/dashboard.py", "pattern": "/^def budget_usage(db: Session = Depends(get_db), user: User = Depends(get_current_user)):$/", "language": "Python", "kind": "function", "signature": "(db: Session = Depends(get_db), user: User = Depends(get_current_user))"}, {"_type": "tag", "name": "category_spending", "path": "/home/kavia/workspace/code-generation/finance-tracker-and-budgeting-app-594b2fca/finance_tracker_backend/src/api/dashboard.py", "pattern": "/^def category_spending($/", "language": "Python", "kind": "function", "signature": "( start_date: Optional[datetime] = None, end_date: Optional[datetime] = None, db: Session = Depends(get_db), user: User = Depends(get_current_user) )"}, {"_type": "tag", "name": "dashboard_router", "path": "/home/kavia/workspace/code-generation/finance-tracker-and-budgeting-app-594b2fca/finance_tracker_backend/src/api/dashboard.py", "pattern": "/^dashboard_router = APIRouter(prefix=\"\\/dashboard\", tags=[\"Dashboard\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "dashboard_summary", "path": "/home/kavia/workspace/code-generation/finance-tracker-and-budgeting-app-594b2fca/finance_tracker_backend/src/api/dashboard.py", "pattern": "/^def dashboard_summary(db: Session = Depends(get_db), user: User = Depends(get_current_user)):$/", "language": "Python", "kind": "function", "signature": "(db: Session = Depends(get_db), user: User = Depends(get_current_user))"}, {"_type": "tag", "name": "recent_transactions", "path": "/home/kavia/workspace/code-generation/finance-tracker-and-budgeting-app-594b2fca/finance_tracker_backend/src/api/dashboard.py", "pattern": "/^def recent_transactions(n: int = Query(10, ge=1, le=100), db: Session = Depends(get_db), user: U/", "language": "Python", "kind": "function", "signature": "(n: int = Query(10, ge=1, le=100), db: Session = Depends(get_db), user: User = Depends(get_current_user))"}], "hash": "ca1815cc6ec057c98c4dade9f2f4c65a", "format-version": 4, "code-base-name": "finance_tracker_backend", "filename": "finance_tracker_backend/src/api/dashboard.py", "fields": [{"name": "analytics_router = APIRouter(prefix=\"\\/analytics\", tags=[\"Analytics\"])", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "dashboard_router = APIRouter(prefix=\"\\/dashboard\", tags=[\"Dashboard\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}